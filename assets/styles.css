/* =========================================================
   assets/styles.css
   RTL-ready, themes, transitions, table & modal styling,
   counters, notifications.
   ========================================================= */

/* Reset خفيف + RTL */
* { box-sizing: border-box; }
html[dir="rtl"] body { direction: rtl; }
body {
  margin: 0;
  font-family: "Tajawal", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Naskh Arabic UI", "Amiri", sans-serif;
  background: var(--bg);
  color: var(--fg);
  transition: background var(--transition-speed) ease, color var(--transition-speed) ease;
}

:root {
  --transition-speed: 300ms;

  /* ألوان افتراضية (يتم تغييرها حسب الثيم) */
  --bg: #0e1525;
  --fg: #eaf2ff;
  --muted: #9bb0c8;
  --card: #141b2d;
  --card-border: #224;
  --accent: #4fc3f7;
  --accent-2: #81d4fa;

  --success: #2ecc71;
  --error: #e74c3c;

  --glow: 0 0 24px rgba(79, 195, 247, 0.35);
}

/* الثيمات */
:root[data-theme="ocean"]      { --bg:#0e1525; --fg:#eaf2ff; --muted:#9bb0c8; --card:#111a2e; --card-border:#23324b; --accent:#4fc3f7; --accent-2:#26a1dd; --glow:0 0 24px rgba(79,195,247,0.35); }
:root[data-theme="glow"]       { --bg:#07090f; --fg:#f7fbff; --muted:#a9b3c3; --card:#0c1220; --card-border:#1a2740; --accent:#9b8cff; --accent-2:#6f5bff; --glow:0 0 28px rgba(155,140,255,0.45); }
:root[data-theme="mint"]       { --bg:#0f1412; --fg:#e9fff4; --muted:#a1c8b4; --card:#12201a; --card-border:#1b3528; --accent:#5be0b3; --accent-2:#2ad39c; --glow:0 0 24px rgba(91,224,179,0.35); }
:root[data-theme="rose"]       { --bg:#1f0f15; --fg:#ffeaf2; --muted:#d49fb5; --card:#2a1320; --card-border:#502339; --accent:#ff79a8; --accent-2:#ff4d8a; --glow:0 0 24px rgba(255,121,168,0.35); }
:root[data-theme="down"]       { --bg:#0c0f14; --fg:#e9eef5; --muted:#9ca9b8; --card:#11151d; --card-border:#1f2a3a; --accent:#5dade2; --accent-2:#3498db; --glow:0 0 20px rgba(93,173,226,0.35); }
:root[data-theme="upper"]      { --bg:#121212; --fg:#f0f0f0; --muted:#bdbdbd; --card:#1a1a1a; --card-border:#2b2b2b; --accent:#fdd835; --accent-2:#ffc400; --glow:0 0 20px rgba(253,216,53,0.35); }
:root[data-theme="dark"]       { --bg:#0b0b0b; --fg:#e3e3e3; --muted:#a5a5a5; --card:#131313; --card-border:#222; --accent:#42a5f5; --accent-2:#1e88e5; --glow:0 0 18px rgba(66,165,245,0.3); }
:root[data-theme="light-blue"] { --bg:#eaf4ff; --fg:#0f2544; --muted:#4a668d; --card:#ffffff; --card-border:#d9e7ff; --accent:#2c7be5; --accent-2:#1a68d1; --glow:0 0 18px rgba(44,123,229,0.25); }
:root[data-theme="dark-blue"]  { --bg:#0a1626; --fg:#e7f0ff; --muted:#8fa6c4; --card:#0f2036; --card-border:#1b3a5c; --accent:#3da5ff; --accent-2:#1976d2; --glow:0 0 22px rgba(61,165,255,0.35); }
:root[data-theme="tirkwaz"]    { --bg:#06201f; --fg:#e7fffd; --muted:#97c9c7; --card:#0a2b2a; --card-border:#124544; --accent:#38e0d7; --accent-2:#21c7bd; --glow:0 0 22px rgba(56,224,215,0.35); }
:root[data-theme="gradient"]   {
  --bg: linear-gradient(135deg, #0e1525 0%, #172a45 50%, #0e1525 100%);
  --fg:#eef6ff; --muted:#a6bbd6; --card:rgba(17,26,46,0.6); --card-border:#23324b; --accent:#58d5e3; --accent-2:#1ecbe1; --glow:0 0 26px rgba(88,213,227,0.45);
}

/* Header & Footer */
header, footer {
  background: var(--card);
  border-bottom: 1px solid var(--card-border);
  padding: 14px 18px;
}
header { display:flex; align-items:center; justify-content:space-between; }
header h1 { margin: 0; font-size: 20px; letter-spacing: 0.2px; color: var(--fg); }
header button {
  background: var(--accent);
  color: #00121f;
  border: none;
  padding: 8px 12px;
  border-radius: 10px;
  cursor: pointer;
  box-shadow: var(--glow);
}
header button:hover { filter: brightness(1.05); }

footer { border-top: 1px solid var(--card-border); border-bottom: none; color: var(--muted); font-size: 13px; }

/* Sections */
section { padding: 16px 18px; }

#summary { display: grid; gap: 12px; }
#teamCounters {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 10px;
}
.counter-card {
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: 16px;
  padding: 14px;
  box-shadow: var(--glow);
}
.counter-name { color: var(--muted); font-size: 13px; margin-bottom: 4px; }
.counter-val  { color: var(--fg); font-size: 26px; font-weight: 700; }

/* Filters */
.filters { display:flex; flex-wrap: wrap; gap: 8px; margin-bottom: 10px; }
.filters select, .filters input[type="date"] {
  background: var(--card);
  color: var(--fg);
  border: 1px solid var(--card-border);
  border-radius: 10px;
  padding: 8px 10px;
  outline: none;
}

/* Table */
#patientTable {
  width: 100%;
  border-collapse: collapse;
  overflow: hidden;
  border-radius: 14px;
  box-shadow: var(--glow);
}
#patientTable thead {
  background: linear-gradient(90deg, var(--card) 0%, rgba(255,255,255,0.03) 100%);
}
#patientTable th, #patientTable td {
  border-bottom: 1px solid var(--card-border);
  padding: 10px 12px;
  text-align: start;
  font-size: 14px;
}
#patientTable th { color: var(--muted); font-weight: 600; }
#patientTable tbody tr:hover { background: rgba(255,255,255,0.03); }

/* Import */
#importSection {
  display: flex;
  align-items: center;
  gap: 10px;
}
#importBtn {
  background: var(--accent-2);
  border: none;
  color: #00121f;
  padding: 8px 12px;
  border-radius: 10px;
  cursor: pointer;
  box-shadow: var(--glow);
}

/* Notification */
#notification {
  position: fixed;
  inset-inline-start: 16px;
  inset-block-end: 16px;
  background: var(--card);
  color: var(--fg);
  border: 1px solid var(--card-border);
  padding: 12px 14px;
  border-radius: 12px;
  min-width: 220px;
  box-shadow: var(--glow);
  transition: opacity var(--transition-speed) ease;
}
#notification.hidden { display: none; }
#notification.success { border-color: rgba(46, 204, 113, 0.6); }
#notification.error   { border-color: rgba(231, 76, 60, 0.7); }

/* Modal */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
  display: grid;
  place-items: center;
  z-index: 9999;
}
.modal-inner {
  width: min(92vw, 520px);
  background: var(--card);
  color: var(--fg);
  border: 1px solid var(--card-border);
  border-radius: 16px;
  padding: 16px;
  box-shadow: var(--glow);
}
.modal-inner h3 { margin-top: 4px; margin-bottom: 12px; }
.modal-inner label { display:block; margin: 8px 0 4px; color: var(--muted); font-size: 13px; }
.modal-inner input[type="text"], .modal-inner input[type="number"], .modal-inner select {
  width: 100%;
  background: var(--bg);
  color: var(--fg);
  border: 1px solid var(--card-border);
  border-radius: 10px;
  padding: 8px 10px;
  outline: none;
}
.modal-actions { display:flex; gap: 8px; margin-top: 12px; }
.modal-actions .ghost {
  background: transparent; color: var(--fg);
  border: 1px dashed var(--card-border);
}
.modal-actions button {
  background: var(--accent);
  color: #00121f;
  border: none;
  padding: 8px 12px;
  border-radius: 10px;
  cursor: pointer;
}

/* Transitions (حسب data-transition) */
:root[data-transition="fade"] .row    { transition: opacity var(--transition-speed) ease, transform var(--transition-speed) ease; }
:root[data-transition="slide"] .row   { transition: transform var(--transition-speed) cubic-bezier(.2,.8,.2,1), opacity var(--transition-speed) ease; }
:root[data-transition="glow"] .row    { transition: box-shadow var(--transition-speed) ease, opacity var(--transition-speed) ease; }

:root[data-transition="slide"] .row   { will-change: transform, opacity; }
:root[data-transition="glow"]  .row:hover { box-shadow: 0 0 0 0 rgba(0,0,0,0), var(--glow); }

/* Utilities */
button { font: inherit; }
input, select, button { outline: none; }

/* Responsive */
@media (max-width: 720px) {
  header h1 { font-size: 18px; }
  #patientTable th, #patientTable td { font-size: 13px; padding: 8px; }
  .counter-val { font-size: 22px; }
}
